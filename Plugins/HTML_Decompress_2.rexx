/** $VER: Version 0.01 (21 Feb 1999), by Thorsten Willert
*/
;SIGNAL ON ERROR;SIGNAL ON SYNTAX;PARSE ARG In,Out,Data .;IF In="INFO" THEN;DO;RETURN 0","1;END;ELSE;DO;CALL OPEN(InDatei,In,'R');CALL OPEN(OutDatei,Out,'W');DO WHILE ~EOF(InDatei);Zeile=READLN(InDatei);Zeile=REPLACE(Zeile,'>','>'||'0A'X);Zeile=REPLACE(Zeile,'</','0A'X||'</');CALL WRITELN(OutDatei,Zeile);END;CALL CLOSE(InDatei);CALL CLOSE(OutDatei);CALL EXECUTE('COPY' Out 'TO' In ' CLONE');CALL OPEN(InDatei,In,'R');CALL OPEN(OutDatei,Out,'W');Sp=0;Indent='';DO WHILE ~EOF(InDatei);Zeile=READLN(InDatei);IF STRIP(Zeile)=='' THEN ITERATE;IF INDEX(Zeile,'<BR>')==0 THEN;DO;IF INDEX(Zeile,'</') ~==0 THEN Sp=SP-1;ELSE IF INDEX(Zeile,'<') ~==0 THEN Sp=Sp+1;END;IF Sp<=1 THEN Sp=1;Indent=COPIES(' ',Sp);CALL WRITELN(OutDatei,Indent||Zeile);END;CALL CLOSE(InDatei);CALL CLOSE(OutDatei);RETURN 1;END;RETURN 0;REPLACE:PROCEDURE;PARSE ARG src,old,new;str='';DO WHILE '' ~=src;loc=POS(old,src);PARSE VAR src sub (old) src;str=str||sub;IF loc ~=0 THEN str=str||new;END;RETURN str;ERROR:;SYNTAX:;RETURN RC","SIGL